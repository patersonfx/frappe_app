# SSH Connection Troubleshooting Guide for Frappe/ERPNext Developers

> A comprehensive guide for fixing SSH connection issues when working with Frappe Framework, ERPNext, and development servers.

---

## Table of Contents

1. [Quick Fix (TL;DR)](#quick-fix-tldr)
2. [Understanding the Error](#understanding-the-error)
3. [Solution Methods](#solution-methods)
4. [Frappe/ERPNext Specific Scenarios](#frappeerp next-specific-scenarios)
5. [VS Code Remote Development](#vs-code-remote-development)
6. [Automation Scripts](#automation-scripts)
7. [Security Considerations](#security-considerations)
8. [Troubleshooting Checklist](#troubleshooting-checklist)

---

## Quick Fix (TL;DR)

### Windows (PowerShell/Command Prompt)
```powershell
# Replace with your actual IP or hostname
ssh-keygen -R 172.16.30.100 && ssh frappe@172.16.30.100
```

### Linux/macOS
```bash
# Replace with your actual IP or hostname
ssh-keygen -R 172.16.30.100 && ssh frappe@172.16.30.100
```

### For Hostname
```bash
ssh-keygen -R erp.yourcompany.com && ssh frappe@erp.yourcompany.com
```

---

## Understanding the Error

### Common Error Message

```
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ED25519 key sent by the remote host is
SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.
Please contact your system administrator.
Add correct host key in C:\Users\USERNAME\.ssh\known_hosts to get rid of this message.
Offending ED25519 key in C:\Users\USERNAME\.ssh\known_hosts:5
ED25519 host key for 172.16.30.100 has changed and you have requested strict checking.
Host key verification failed.
```

### Root Cause

The remote server's SSH fingerprint has changed, but your local machine still has the old fingerprint stored in the `known_hosts` file. SSH refuses the connection as a security measure to prevent man-in-the-middle attacks.

### Common Reasons for Key Changes

**General Scenarios:**
- Server OS reinstalled or upgraded
- SSH server configuration reset
- Different machine now using the same IP address
- SSH keys manually regenerated by administrator
- Cloud instance stopped/started or migrated

**Frappe/ERPNext Specific:**
- Server restored from backup with different SSH configuration
- `bench setup production` regenerated system configurations
- Migration from development to production server
- Docker container recreated
- Virtual machine snapshot restored with different keys

---

## Solution Methods

### Method 1: Remove Specific Host Key (Recommended) ‚≠ê

This is the safest and most precise method.

**Windows (PowerShell/Command Prompt):**
```powershell
ssh-keygen -R 172.16.30.100
```

**Windows with Port Specification:**
```powershell
ssh-keygen -R [172.16.30.100]:2222
```

**Linux/macOS:**
```bash
ssh-keygen -R 172.16.30.100
```

**With Hostname:**
```bash
ssh-keygen -R erp-production.company.com
```

**Expected Output:**
```
# Host 172.16.30.100 found: line 5
C:\Users\USERNAME\.ssh\known_hosts updated.
Original contents retained as C:\Users\USERNAME\.ssh\known_hosts.old
```

---

### Method 2: Remove by Line Number

If you know the specific line number from the error message:

**Windows:**
```powershell
# Open in notepad
notepad C:\Users\$env:USERNAME\.ssh\known_hosts

# Or use PowerShell to remove line 5
$file = "C:\Users\$env:USERNAME\.ssh\known_hosts"
(Get-Content $file) | Where-Object {$_.ReadCount -ne 5} | Set-Content $file
```

**Linux/macOS:**
```bash
# Remove line 5
sed -i '5d' ~/.ssh/known_hosts

# macOS requires slightly different syntax
sed -i '' '5d' ~/.ssh/known_hosts
```

---

### Method 3: Manually Edit known_hosts File

**File Locations:**

| OS | Path |
|---|---|
| Windows | `C:\Users\<USERNAME>\.ssh\known_hosts` |
| Linux | `~/.ssh/known_hosts` |
| macOS | `~/.ssh/known_hosts` |

**Steps:**
1. Open the `known_hosts` file in your preferred text editor
2. Find the line number mentioned in the error (e.g., line 5)
3. Delete the entire line
4. Save the file
5. Retry SSH connection

---

### Method 4: Clear All Host Keys (Nuclear Option) ‚ö†Ô∏è

**Warning:** This removes ALL saved SSH fingerprints. You'll need to verify each server on next connection.

**Windows:**
```powershell
Remove-Item C:\Users\$env:USERNAME\.ssh\known_hosts -Force
```

**Linux/macOS:**
```bash
rm ~/.ssh/known_hosts
```

**When to use:**
- Multiple servers have changed keys
- Your known_hosts file is corrupted
- You're setting up a fresh development environment

---

## Frappe/ERPNext Specific Scenarios

### Managing Multiple Bench Servers

As a Frappe developer, you likely connect to multiple servers (dev, staging, production). Use SSH config for better management.

**SSH Config File Location:**
- Windows: `C:\Users\<USERNAME>\.ssh\config`
- Linux/macOS: `~/.ssh/config`

**Recommended Configuration:**

```ssh-config
# Production Server
Host erpnext-prod
    HostName 172.16.30.100
    User frappe
    Port 22
    IdentityFile ~/.ssh/id_rsa_erpnext_prod
    ServerAliveInterval 60
    ServerAliveCountMax 3
    ForwardAgent yes

# Staging Server
Host erpnext-staging
    HostName 172.16.30.101
    User frappe
    Port 22
    IdentityFile ~/.ssh/id_rsa_erpnext_staging
    ServerAliveInterval 60
    ServerAliveCountMax 3

# Development Server
Host erpnext-dev
    HostName 192.168.1.100
    User frappe
    Port 22
    IdentityFile ~/.ssh/id_rsa_erpnext_dev
    RemoteCommand cd /home/frappe/frappe-bench && bash -l
    RequestTTY yes

# Client Demo Server
Host client-demo
    HostName demo.client.com
    User frappe
    Port 22
    IdentityFile ~/.ssh/id_rsa_client
```

**Usage:**
```bash
# Instead of: ssh frappe@172.16.30.100
ssh erpnext-prod

# For VS Code Remote
code --remote ssh-remote+erpnext-dev /home/frappe/frappe-bench
```

---

### Common ERPNext Server Change Scenarios

#### 1. After `bench restore` or Site Migration

```bash
# Scenario: Restored production backup to staging
# Problem: SSH keys from backup don't match staging server

# Solution:
ssh-keygen -R staging.yourcompany.com
ssh frappe@staging.yourcompany.com
```

#### 2. After `bench setup production`

```bash
# Sometimes nginx/supervisor setup regenerates keys
# Clear and reconnect:
ssh-keygen -R your-server.com
```

#### 3. After Server Migration/Rebuild

```bash
# When migrating from one cloud provider to another
# Or moving from VM to Docker container

# Clear old keys
ssh-keygen -R old-server-ip
ssh-keygen -R new-server-ip

# Connect to new server
ssh frappe@new-server-ip
```

#### 4. Docker Container Recreated

```bash
# Docker containers get new SSH keys on recreation
# If using SSH in containers:

docker-compose down
docker-compose up -d

# Clear the old key
ssh-keygen -R localhost
ssh-keygen -R [localhost]:2222  # If using port mapping
```

#### 5. Development to Production Promotion

```bash
# When promoting dev environment to production
# IP/hostname changes but you have old keys cached

ssh-keygen -R production.company.com
ssh-keygen -R 172.16.30.100  # If IP also changed
```

---

### Bench-Specific Connection Patterns

#### Direct Bench Directory Access

```ssh-config
Host erpnext-prod-bench
    HostName 172.16.30.100
    User frappe
    RemoteCommand cd ~/frappe-bench && bash -l
    RequestTTY yes
```

**Usage:**
```bash
# Connects and drops you directly in bench directory
ssh erpnext-prod-bench

# Now you can immediately run:
bench restart
bench migrate
```

#### Multiple Sites on Same Server

```ssh-config
# Site 1 - Production
Host erp-site1
    HostName 172.16.30.100
    User frappe
    RemoteCommand cd ~/frappe-bench && bench use site1.com && bash -l
    RequestTTY yes

# Site 2 - Client Demo
Host erp-site2
    HostName 172.16.30.100
    User frappe
    RemoteCommand cd ~/frappe-bench && bench use site2.com && bash -l
    RequestTTY yes
```

---

## VS Code Remote Development

### Initial Setup

**Install Extension:**
- Remote - SSH (ms-vscode-remote.remote-ssh)

### Configuration for Frappe Development

**Enhanced SSH Config for VS Code:**

```ssh-config
Host frappe-dev
    HostName 192.168.1.100
    User frappe
    Port 22
    IdentityFile ~/.ssh/id_rsa_frappe
    ForwardAgent yes
    ServerAliveInterval 60
    ServerAliveCountMax 3

    # Keep connection alive during long bench operations
    TCPKeepAlive yes

    # Compression for faster file transfers
    Compression yes

    # For debugging connection issues
    LogLevel INFO

Host frappe-prod
    HostName 172.16.30.100
    User frappe
    Port 22
    IdentityFile ~/.ssh/id_rsa_frappe_prod
    ForwardAgent yes
    ServerAliveInterval 60
    ServerAliveCountMax 3

    # Production: More restrictive settings
    StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts
```

### VS Code Specific Host Key Issues

**Problem:** VS Code Remote fails to connect after key change

**Error in VS Code:**
```
[Remote-SSH] Host key verification failed.
```

**Solution:**

1. **Clear the key:**
   ```bash
   ssh-keygen -R 192.168.1.100
   ```

2. **Test connection in terminal first:**
   ```bash
   ssh frappe@192.168.1.100
   # Accept the new key
   ```

3. **Then connect via VS Code:**
   - Open Command Palette (Ctrl+Shift+P)
   - Select "Remote-SSH: Connect to Host"
   - Choose your host

### Recommended VS Code Extensions on Remote

Install these on your remote Frappe server:

**Essential:**
- Python (ms-python.python)
- Pylance (ms-python.vscode-pylance)
- JavaScript and TypeScript (Built-in)

**Frappe/ERPNext Specific:**
- SQLTools (mtxr.sqltools)
- SQLTools MariaDB/MySQL (mtxr.sqltools-driver-mysql)
- GitLens (eamodio.gitlens)

**Development Enhancement:**
- Path Intellisense (christian-kohler.path-intellisense)
- Auto Rename Tag (formulahendry.auto-rename-tag)
- Better Comments (aaron-bond.better-comments)

### VS Code Remote Settings

**settings.json for Frappe Development:**

```json
{
    "remote.SSH.remotePlatform": {
        "frappe-dev": "linux",
        "frappe-prod": "linux"
    },
    "remote.SSH.connectTimeout": 60,
    "remote.SSH.showLoginTerminal": true,
    "python.defaultInterpreterPath": "/home/frappe/frappe-bench/env/bin/python",
    "python.linting.enabled": true,
    "python.linting.pylintEnabled": false,
    "python.linting.flake8Enabled": true,
    "python.formatting.provider": "black",
    "files.watcherExclude": {
        "**/.git/objects/**": true,
        "**/node_modules/**": true,
        "**/env/**": true,
        "**/sites/**/logs/**": true,
        "**/sites/**/private/backups/**": true
    }
}
```

---

## Automation Scripts

### PowerShell Script: Clear Multiple Servers

**clear-frappe-hosts.ps1:**

```powershell
<#
.SYNOPSIS
    Clear SSH host keys for all Frappe/ERPNext servers
.DESCRIPTION
    Removes SSH fingerprints for development, staging, and production servers
.EXAMPLE
    .\clear-frappe-hosts.ps1
#>

# Define your servers
$servers = @(
    @{Name="Production"; Host="172.16.30.100"},
    @{Name="Staging"; Host="172.16.30.101"},
    @{Name="Development"; Host="192.168.1.100"},
    @{Name="Client Demo"; Host="demo.client.com"}
)

Write-Host "=== Clearing SSH Host Keys for Frappe Servers ===" -ForegroundColor Cyan
Write-Host ""

foreach ($server in $servers) {
    Write-Host "Clearing key for $($server.Name): $($server.Host)" -ForegroundColor Yellow

    try {
        $output = ssh-keygen -R $server.Host 2>&1

        if ($LASTEXITCODE -eq 0) {
            Write-Host "  ‚úì Successfully cleared" -ForegroundColor Green
        } else {
            Write-Host "  ‚Ñπ No existing key found (this is normal)" -ForegroundColor Gray
        }
    }
    catch {
        Write-Host "  ‚úó Error: $_" -ForegroundColor Red
    }

    Write-Host ""
}

Write-Host "=== Complete ===" -ForegroundColor Cyan
Write-Host "You can now connect to your servers. Accept the new fingerprints when prompted."
```

**Usage:**
```powershell
# Run the script
.\clear-frappe-hosts.ps1

# Or load it as a function
. .\clear-frappe-hosts.ps1
```

---

### Bash Script: Clear Multiple Servers

**clear-frappe-hosts.sh:**

```bash
#!/bin/bash

###########################################
# Clear SSH Host Keys for Frappe Servers
# Usage: ./clear-frappe-hosts.sh
###########################################

# Color codes
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
CYAN='\033[0;36m'
GRAY='\033[0;37m'
NC='\033[0m' # No Color

# Define your servers
declare -A servers=(
    ["Production"]="172.16.30.100"
    ["Staging"]="172.16.30.101"
    ["Development"]="192.168.1.100"
    ["Client Demo"]="demo.client.com"
)

echo -e "${CYAN}=== Clearing SSH Host Keys for Frappe Servers ===${NC}"
echo ""

for name in "${!servers[@]}"; do
    host="${servers[$name]}"
    echo -e "${YELLOW}Clearing key for $name: $host${NC}"

    if ssh-keygen -R "$host" > /dev/null 2>&1; then
        echo -e "  ${GREEN}‚úì Successfully cleared${NC}"
    else
        echo -e "  ${GRAY}‚Ñπ No existing key found (this is normal)${NC}"
    fi

    echo ""
done

echo -e "${CYAN}=== Complete ===${NC}"
echo "You can now connect to your servers. Accept the new fingerprints when prompted."
```

**Make it executable:**
```bash
chmod +x clear-frappe-hosts.sh
./clear-frappe-hosts.sh
```

---

### Python Script: Interactive SSH Key Manager

**ssh_key_manager.py:**

```python
#!/usr/bin/env python3
"""
SSH Key Manager for Frappe/ERPNext Developers
Interactively manage SSH known_hosts entries
"""

import os
import subprocess
import sys
from pathlib import Path

class SSHKeyManager:
    def __init__(self):
        self.known_hosts = Path.home() / '.ssh' / 'known_hosts'
        self.servers = {
            '1': {'name': 'Production', 'host': '172.16.30.100'},
            '2': {'name': 'Staging', 'host': '172.16.30.101'},
            '3': {'name': 'Development', 'host': '192.168.1.100'},
            '4': {'name': 'Client Demo', 'host': 'demo.client.com'},
        }

    def clear_key(self, host):
        """Clear SSH key for specific host"""
        try:
            result = subprocess.run(
                ['ssh-keygen', '-R', host],
                capture_output=True,
                text=True
            )
            return result.returncode == 0
        except Exception as e:
            print(f"Error: {e}")
            return False

    def display_menu(self):
        """Display interactive menu"""
        print("\n" + "="*50)
        print("SSH Key Manager for Frappe Servers")
        print("="*50)
        print("\nServers:")
        for key, server in self.servers.items():
            print(f"  {key}. {server['name']:<15} ({server['host']})")
        print("\n  A. Clear ALL servers")
        print("  C. Clear custom host")
        print("  Q. Quit")
        print("="*50)

    def run(self):
        """Main program loop"""
        while True:
            self.display_menu()
            choice = input("\nSelect option: ").strip().upper()

            if choice == 'Q':
                print("Goodbye!")
                sys.exit(0)

            elif choice == 'A':
                print("\nClearing all servers...")
                for server in self.servers.values():
                    print(f"  Clearing {server['name']}...", end=' ')
                    if self.clear_key(server['host']):
                        print("‚úì")
                    else:
                        print("(no key found)")
                input("\nPress Enter to continue...")

            elif choice == 'C':
                custom_host = input("Enter hostname or IP: ").strip()
                if custom_host:
                    print(f"Clearing {custom_host}...", end=' ')
                    if self.clear_key(custom_host):
                        print("‚úì")
                    else:
                        print("(no key found)")
                input("\nPress Enter to continue...")

            elif choice in self.servers:
                server = self.servers[choice]
                print(f"\nClearing {server['name']} ({server['host']})...", end=' ')
                if self.clear_key(server['host']):
                    print("‚úì")
                else:
                    print("(no key found)")
                input("\nPress Enter to continue...")

            else:
                print("Invalid option!")
                input("Press Enter to continue...")

if __name__ == '__main__':
    manager = SSHKeyManager()
    try:
        manager.run()
    except KeyboardInterrupt:
        print("\n\nInterrupted. Goodbye!")
        sys.exit(0)
```

**Usage:**
```bash
chmod +x ssh_key_manager.py
./ssh_key_manager.py
```

---

## Security Considerations

### ‚ö†Ô∏è Important Security Checks

Before accepting a new SSH fingerprint, **always verify**:

#### 1. Expected Change Verification

Ask yourself:
- [ ] Did I or my team recently reinstall this server?
- [ ] Was there a scheduled OS upgrade?
- [ ] Did we migrate to a new server/instance?
- [ ] Did we restore from a backup?
- [ ] Did we run `bench setup production`?

#### 2. Fingerprint Verification

**Get the server's fingerprint:**

```bash
# On the remote server (ask admin to run):
ssh-keygen -lf /etc/ssh/ssh_host_ed25519_key.pub
ssh-keygen -lf /etc/ssh/ssh_host_rsa_key.pub
ssh-keygen -lf /etc/ssh/ssh_host_ecdsa_key.pub
```

**Compare with the fingerprint shown in your SSH error message.**

#### 3. Network Security

- [ ] Are you on a trusted network?
- [ ] Are you using a VPN if required?
- [ ] Is this connection going through secure infrastructure?

### üö´ When NOT to Accept New Keys

**Stop and investigate if:**

- The key change was completely unexpected
- No one on your team knows about server changes
- You cannot verify the fingerprint with your administrator
- You're on an untrusted network (public Wi-Fi, etc.)
- You suspect a security breach or compromise
- The server should NOT have been modified

**In these cases:**
1. Do NOT accept the new key
2. Contact your system administrator immediately
3. Verify through a separate communication channel
4. Check server logs for unauthorized access

### Frappe/ERPNext Production Servers

For production ERPNext servers:

**Best Practices:**
```ssh-config
Host erpnext-prod
    HostName production.company.com
    User frappe
    IdentityFile ~/.ssh/id_rsa_prod_only
    StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts
    # No key checking bypass for production!
```

**Never use these in production:**
```ssh-config
# ‚ùå DANGEROUS - Don't use in production
StrictHostKeyChecking no
UserKnownHostsFile /dev/null
```

**Development environments only:**
```ssh-config
Host erpnext-local-dev
    HostName 192.168.1.100
    User frappe
    StrictHostKeyChecking no  # OK for local development
    UserKnownHostsFile /dev/null  # OK for local development
```

---

## Post-Fix Connection Steps

### 1. Attempt Connection

After clearing the old key:

```bash
ssh frappe@172.16.30.100
```

### 2. Verify New Host Key Prompt

You'll see:
```
The authenticity of host '172.16.30.100 (172.16.30.100)' can't be established.
ED25519 key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])?
```

### 3. Verify Fingerprint (Production)

For production servers, verify the fingerprint matches what your admin provides:

```bash
# Type 'fingerprint' option to manually verify
Are you sure you want to continue connecting (yes/no/[fingerprint])? fingerprint
```

Enter the fingerprint provided by your administrator.

### 4. Accept New Key

```bash
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
```

**Expected response:**
```
Warning: Permanently added '172.16.30.100' (ED25519) to the list of known hosts.
```

### 5. Successful Connection

You should now be connected:
```
frappe@erpnext-server:~$
```

---

## Troubleshooting Checklist

### Basic Connection Issues

- [ ] Removed old host key using `ssh-keygen -R`
- [ ] Verified the key change was expected
- [ ] Confirmed new fingerprint (for production)
- [ ] Attempted connection again
- [ ] Accepted new host key
- [ ] Connection successful

### VS Code Remote Issues

- [ ] Tested SSH connection in terminal first
- [ ] Cleared host key for the server
- [ ] Accepted new key in terminal
- [ ] Reloaded VS Code window (Ctrl+Shift+P ‚Üí "Reload Window")
- [ ] Reconnected via Remote-SSH extension
- [ ] Verified SSH config file syntax

### Persistent Connection Problems

If connection still fails after clearing keys:

#### Check SSH Service
```bash
# On the remote server
sudo systemctl status ssh
sudo systemctl status sshd
```

#### Check Firewall
```bash
# On the remote server
sudo ufw status
sudo iptables -L -n | grep 22
```

#### Verify SSH Port
```bash
# Check which port SSH is running on
sudo netstat -tlnp | grep ssh
```

#### Test with Verbose Output
```bash
# Get detailed connection information
ssh -vvv frappe@172.16.30.100
```

#### Check Permissions
```bash
# Local machine
chmod 700 ~/.ssh
chmod 600 ~/.ssh/id_rsa
chmod 644 ~/.ssh/id_rsa.pub
chmod 644 ~/.ssh/known_hosts

# Remote server
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

---

## Common Error Messages and Solutions

### Error: "Permission denied (publickey)"

**Cause:** SSH key authentication failing

**Solution:**
```bash
# Verify your public key is on the server
ssh-copy-id frappe@172.16.30.100

# Or manually add your key
cat ~/.ssh/id_rsa.pub | ssh frappe@172.16.30.100 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
```

### Error: "Connection refused"

**Cause:** SSH service not running or firewall blocking

**Solution:**
```bash
# On remote server
sudo systemctl start ssh
sudo ufw allow 22/tcp
```

### Error: "Connection timed out"

**Cause:** Network connectivity issues or wrong IP/port

**Solution:**
```bash
# Verify server is reachable
ping 172.16.30.100

# Check correct port
nmap -p 22 172.16.30.100

# Try with explicit port
ssh -p 22 frappe@172.16.30.100
```

### Error: "Too many authentication failures"

**Cause:** SSH trying multiple keys

**Solution:**
```bash
# Specify exact key to use
ssh -i ~/.ssh/id_rsa_erpnext frappe@172.16.30.100

# Or in SSH config
IdentitiesOnly yes
```

---

## Additional Resources

### Official Documentation
- [OpenSSH Manual](https://www.openssh.com/manual.html)
- [Frappe Framework Documentation](https://frappeframework.com/docs)
- [ERPNext Documentation](https://docs.erpnext.com/)

### VS Code Remote Development
- [VS Code Remote - SSH](https://code.visualstudio.com/docs/remote/ssh)
- [SSH Tips and Tricks](https://code.visualstudio.com/docs/remote/troubleshooting)

### Security Best Practices
- [SSH Security Best Practices](https://www.ssh.com/academy/ssh/security)
- [Securing SSH Servers](https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys)

### Frappe/ERPNext Community
- [Frappe Forum](https://discuss.frappe.io/)
- [ERPNext Forum](https://discuss.erpnext.com/)
- [Frappe GitHub](https://github.com/frappe/frappe)

---

## Quick Reference Commands

### Clear Keys
```bash
# Single host
ssh-keygen -R 172.16.30.100

# Multiple hosts
ssh-keygen -R 172.16.30.100 && ssh-keygen -R erp.company.com

# With port
ssh-keygen -R [172.16.30.100]:2222
```

### View Known Hosts
```bash
# Windows
type C:\Users\%USERNAME%\.ssh\known_hosts

# Linux/macOS
cat ~/.ssh/known_hosts
```

### Test Connection
```bash
# Basic test
ssh frappe@172.16.30.100

# Verbose (debugging)
ssh -vvv frappe@172.16.30.100

# With specific key
ssh -i ~/.ssh/id_rsa_frappe frappe@172.16.30.100
```

### Bench Operations via SSH
```bash
# Direct bench commands
ssh frappe@172.16.30.100 "cd ~/frappe-bench && bench restart"

# Multiple commands
ssh frappe@172.16.30.100 "cd ~/frappe-bench && bench migrate && bench restart"
```

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 2.0 | 2026-01-24 | Added Frappe/ERPNext specific scenarios, automation scripts, VS Code integration |
| 1.0 | - | Initial general SSH troubleshooting guide |

---

## Contributing

Have additional tips or scenarios specific to Frappe/ERPNext development? Feel free to expand this guide!

---

**Last Updated:** January 24, 2026

**Author:** Sant Bharat Agarwal
**Role:** Full Stack Developer & ERP Customizer
**Specialization:** Frappe Framework, ERPNext, React.js Development

---

## License

This documentation is provided as-is for the Frappe/ERPNext developer community.

---

**End of Document**
